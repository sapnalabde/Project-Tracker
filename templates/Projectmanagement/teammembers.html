{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Create Team</title>
{% endblock title %}



{% block css %}
<style>
.select2-selection__rendered{
    display: none;
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.5/css/selectize.bootstrap2.css" integrity="sha512-Q4lVRLPgL4dk2/TIxGMiaTQszMFzW6/wULNrA0r4FCeu2eVwgfPDOXbZtntaWMV52uvKFmRx09as0caMjOeYBg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock %}
{% block nav %}

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <i class="fa-solid fa-bars" style="color: #144368; font-size: 1.5rem;"></i>
</button>
<div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ml-auto" style="margin-top: -7px !important;">

        <li class="nav-link nav-item dropdown px-3">
            <span class="btn p-0 dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false"
                style="outline: none;font-weight: 600; color: #144368; font-size: 18px;">
                Project Management
            </span>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                {% if request.user.is_superuser %}
                <a class="dropdown-item" href="/Project_Management/projectreg">Create Project</a>
                <a class="dropdown-item" href="/Project_Management/projectlist">ProjectList</a>
                <a class="dropdown-item" href="/Project_Management/teamreg">Assign Project</a>
                <a class="dropdown-item" href="/Project_Management/teammembers">Team Allocation</a>
                <a class="dropdown-item" href="/Project_Management/teamlist">TeamList</a>
                <a class="dropdown-item" href="/Project_Management/taskreg">Create Task</a>
                <a class="dropdown-item" href="/Project_Management/tasklist">TaskList</a>
                <a class="dropdown-item" href="/Project_Management/approvallist">Approval</a>
                {% elif request.user.userdetail.userrole == 2 or request.user.userdetail.userrole == 1 or request.user.userdetail.userrole == 5 %}
                <a class="dropdown-item" href="/Project_Management/projectreg">Create Project</a>
                <a class="dropdown-item" href="/Project_Management/projectlist">ProjectList</a>
                <a class="dropdown-item" href="/Project_Management/teamreg">Assign Project</a>
                <a class="dropdown-item" href="/Project_Management/teammembers">Team Allocation</a>
                <a class="dropdown-item" href="/Project_Management/teamlist">TeamList</a>
                <a class="dropdown-item" href="/Project_Management/taskreg">Create Task</a>
                <a class="dropdown-item" href="/Project_Management/tasklist">TaskList</a>
                {% elif request.user.userdetail.userrole == 3 %}
                <a class="dropdown-item" href="/Project_Management/projectreg">Create Project</a>
                <a class="dropdown-item" href="/Project_Management/projectlist">ProjectList</a>
                <a class="dropdown-item" href="/Project_Management/teamreg">Assign Project</a>
                <a class="dropdown-item" href="/Project_Management/teammembers">Team Allocation</a>
                <a class="dropdown-item" href="/Project_Management/teamlist">TeamList</a>
                <a class="dropdown-item" href="/Project_Management/taskreg">Create Task</a>
                <a class="dropdown-item" href="/Project_Management/tasklist">TaskList</a>
                
  
                {% elif request.user.userdetail.userrole == 4 %}
                <a class="dropdown-item" href="/Project_Management/taskreg">Create Task</a>
                <a class="dropdown-item" href="/Project_Management/projectlist">ProjectList</a>
                <a class="dropdown-item" href="/Project_Management/tasklist">TaskList</a>
                <a class="dropdown-item" href="">
                {% elif request.user.userdetail.userrole == 6 %}
                    <a class="dropdown-item" href="/Project_Management/projectreg">Create Project</a>
                    <a class="dropdown-item" href="/Project_Management/projectlist">ProjectList</a>
                    <a class="dropdown-item" href="/Project_Management/teamreg">Assign Project</a>
                    <a class="dropdown-item" href="/Project_Management/teammembers">Team Allocation</a>
                    <a class="dropdown-item" href="/Project_Management/teamlist">TeamList</a>
                    <a class="dropdown-item" href="/Project_Management/taskreg">Create Task</a>
                    <a class="dropdown-item" href="/Project_Management/tasklist">TaskList</a>
                {% endif %}

                
            </div>
        </li>

        {% if request.user.is_superuser %}
        <li class="nav-link nav-item px-3">
            <a href="/Project_Management/Reviewdetail"
                style="text-decoration: none; font-weight: 600; color: #144368; font-size: 18px;">
                See Feedback&nbsp;<i class="fa-solid fa-comments"></i>
            </a>
        </li>
        {% else %}
        <li class="nav-link nav-item px-3">
            <a href="/Project_Management/Reviewfun"
                style="text-decoration: none; font-weight: 600; color: #144368; font-size: 18px;">
                Feedback&nbsp;<i class="fa-solid fa-comments"></i>
            </a>
        </li>
        {% endif %}
        <li class="nav-link nav-item dropdown px-3">
            <span class="btn p-0 dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false"
                style="outline: none;font-weight: 600; color: #144368; font-size: 18px;">
                <i class="fa-solid fa-user"></i> {{ request.user }}
            </span>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" style="width: fit-content;">
              <a class="dropdown-item" href="/accounts/detail/">My Profile</a>
              <a class="dropdown-item" href="/accounts/logout/">Signout</a>
              
            </div>
        </li>
    </ul>
    </nav>
    {% endblock %}



{% block body %}

<form action="" method="POST" enctype="multipart/form-data" novalidate>
    {% csrf_token %}

    <div class="container bg-light rounded py-4" style="margin-top: -9rem !important;">
        <h1 style="color: #144368; font-family: Chivo; text-shadow: 2px 2px 1px #817f7f; font-weight: 700 !important;"
                class="mt-2 text-center">Create Team Members</h1>

        <div class="row">
            <div class="col-md-10">
            </div>
            <div class="col-md-2 mt-5 text-right">
                <a href="/mainpage/" style="color: #144368; font-size: 22px; "><i class="fa fa-home m-3"></i></a>
            </div>
            <div class="col-md-4 form-group" style="font-size: 1rem;">
                <label for=" ">Project <span class="text-danger">*</span></label>{{form.project}}
            </div>
            <div class="col-md-4 form-group" style="font-size: 1rem;">
                <label for=" ">Member 1 <span class="text-danger">*</span></label>{{form.m1}}
            </div>
            <div class="col-md-4 form-group" style="font-size: 1rem;">
                <label for=" ">Member 2 <span class="text-danger">*</span></label>{{form.m2}}
            </div>
            <div class="col-md-4 form-group" style="font-size: 1rem;">
                <label for=" ">Member 3 </label>{{form.m3}}
            </div>
            <div class="col-md-4 form-group" style="font-size: 1rem;">
                <label for=" ">Member 4 </label>{{form.m4}}
            </div>
            <div class="col-md-4"></div>
            {% if request.user.userdetail.userrole == 6 %}
            <div class="col-md-12 text-center">
                <button type="button" class="btn text-light btn-sm" data-toggle="modal"style="background-color: #144368;" data-target="#exampleModal">
                    Submit
                  </button>
                  
            </div>
            {% else %}
                <div class="col-md-4 text-center">
                    <input type="submit" value="Submit" class="btn btn-sm text-white"
                        style="background-color: #144368; font-size: 1rem;">
                </div>
                <div class="col-md-2">
                </div>
            {% endif %}
                    
        </div>
    </div>


</form>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Message</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          You are not authorized to submit
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

{% block script %}
<!-- <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/slim-select/1.27.1/slimselect.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
<script src="{% static 'js/selectize/standalone/selectize.min.js' %}"></script>
<script src="{% static 'js/selectize/standalone/selectize.js' %}"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.5/css/selectize.bootstrap2.css" integrity="sha512-Q4lVRLPgL4dk2/TIxGMiaTQszMFzW6/wULNrA0r4FCeu2eVwgfPDOXbZtntaWMV52uvKFmRx09as0caMjOeYBg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<!-- <script>
    $(function () {
      $("#id_m1").selectize([]);
    });
</script> -->

<script>
// In your Javascript (external .js resource or <script> tag)
    // $(document).ready(function() {
    //     $('#id_team').select2();
    //     $('#id_project').select2();
    // });
    
    
</script>
{% endblock %}
{% endblock %}